from abc import ABC, abstractmethod
from datetime import datetime, date

# Abstract Base Class
class Report(ABC):
    def __init__(self, report_id, title, date_generated=None):
        self.report_id = report_id
        self.title = title
        if isinstance(date_generated, str):
            self.date_generated = datetime.strptime(date_generated, "%d-%m-%Y").date()
        else:
            self.date_generated = date_generated if date_generated else date.today()


    @abstractmethod
    def generate_report(self):
        """Force all subclasses to implement this method"""
        pass


# Subclass: StudentReport
class StudentReport(Report):
    def __init__(self, report_id, title, student_name, student_id, date_generated=None):
        super().__init__(report_id, title, date_generated)
        self.student_name = student_name
        self.student_id = student_id

    def generate_report(self):
        print(f" Student Report ")
        print(f"Report ID: {self.report_id}")
        print(f"Session type: {self.title}")
        print(f"Date: {self.date_generated}")
        print(f"Generated by Counselor: {self.student_name} (ID: {self.student_id})")


# Subclass: CounselorReport
class CounselorReport(Report):
    def __init__(self, report_id, title, counselor_name, counselor_id, date_generated=None):
        super().__init__(report_id, title, date_generated)
        self.counselor_name = counselor_name
        self.counselor_id = counselor_id

    def generate_report(self):
        print(f" Counselor Report ")
        print(f"Report ID: {self.report_id}")
        print(f"Session Type: {self.title}")
        print(f"Date: {self.date_generated}")
        print(f"Generated by Student: {self.counselor_name} (ID: {self.counselor_id})")


# Function demonstrating polymorphism
def show_reports(report_list):
    for report in report_list:
        report.generate_report()
        print()  # extra space for readability


# Example usage
if __name__ == "__main__":
    # Create objects of subclasses with correct date format
    student_report = StudentReport("S-103", "Career", "Jane Doe", "S001", "05-08-2025")
    counselor_report = CounselorReport("R002", "Career", "Juan Dela Cruz", "C001", "05-08-2025")

    # Demonstrate polymorphism
    show_reports([student_report, counselor_report])
